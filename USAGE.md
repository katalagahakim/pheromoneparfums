# Pheromone Parfums - Usage Guide

## Overview

This project consists of two main components:

1. **Autonomous Agent**: A Cloudflare Worker that automatically generates pheromone product reviews
2. **Static Blog**: An Eleventy-based blog that displays the generated reviews

This guide explains how to use the autonomous agent to generate reviews and how to customize the blog.

## Using the Autonomous Agent

### Automatic Review Generation

The agent is configured to automatically generate new reviews on a daily schedule (3 AM UTC by default). It will:

1. Check how many reviews already exist
2. Find pheromone products to review using AI
3. Generate new reviews up to the configured limits
4. Commit the reviews to the GitHub repository

No manual intervention is required for this process.

### Manual Review Generation

You can also trigger review generation manually using the agent's API endpoints:

#### Generate Random Reviews

To generate reviews for random products:

```
POST https://your-worker-url.workers.dev/generate
```

This will generate up to the maximum number of reviews per run (configured in environment variables).

#### Generate Specific Review

To generate a review for a specific product:

```
POST https://your-worker-url.workers.dev/generate-specific
Content-Type: application/json

{
  "productName": "Product Name Here"
}
```

This will generate a review for the specified product if it doesn't already exist.

## Customizing the Blog

### Adding Custom Content

You can add custom content to the blog by creating Markdown files in the `blog/content/blog` directory. The files should include frontmatter with the following fields:

```markdown
---
title: "Product Name Review"
description: "A comprehensive review of Product Name"
date: YYYY-MM-DD
tags: ["Brand", "Type", "review"]
rating: 4.5
---

# Content goes here
```

### Customizing the Theme

The blog uses Eleventy's templating system. To customize the theme:

1. Edit the templates in `blog/_includes/layouts/`
2. Modify the CSS in `blog/css/`
3. Update site metadata in `blog/_data/metadata.js`

## Configuration

### Agent Configuration

The agent is configured using environment variables:

- `GITHUB_TOKEN`: GitHub personal access token
- `GITHUB_REPO_OWNER`: Owner of the GitHub repository
- `GITHUB_REPO_NAME`: Name of the GitHub repository
- `OPENAI_API_KEY`: OpenAI API key
- `MAX_REVIEWS_PER_RUN`: Maximum number of reviews to generate per run
- `MAX_REVIEWS_TOTAL`: Maximum total number of reviews to generate

These can be set in the Cloudflare Workers dashboard or in `wrangler.toml` for local development.

### Blog Configuration

The blog is configured using the `.eleventy.js` file and the data files in `blog/_data/`.

## Deployment

### Deploying the Agent

Deploy the agent to Cloudflare Workers using Wrangler:

```bash
cd agent
wrangler deploy
```

### Deploying the Blog

The blog is automatically deployed when changes are pushed to the GitHub repository, using Cloudflare Pages.

## Troubleshooting

### Agent Issues

- Check the Cloudflare Workers logs for error messages
- Verify that all environment variables are correctly set
- Ensure the GitHub token has the necessary permissions

### Blog Issues

- Check the Cloudflare Pages build logs for errors
- Verify that the Markdown files have the correct frontmatter
- Ensure the Eleventy configuration is correct

## Examples

See the sample reviews in the `blog/content/blog` directory for examples of the content generated by the agent.